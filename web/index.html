<!DOCTYPE html>
<html>
  <head>
    <base href="$FLUTTER_BASE_HREF" />

    <meta charset="UTF-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />

    <meta property="og:title" content="Grupos | Rádio Hemp" />
    <meta
      property="og:description"
      content="A frequência da cannabis legal no Brasil."
    />
    <meta
      property="og:image"
      content="https://grupos.radiohemp.com/icons/radio-icon-192.png"
    />
    <meta property="og:url" content="https://grupos.radiohemp.com/" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Grupos | Rádio Hemp" />
    <meta
      name="twitter:description"
      content="A frequência da cannabis legal no Brasil."
    />
    <meta
      name="twitter:image"
      content="https://grupos.radiohemp.com/icons/radio-icon-192.png"
    />

    <meta
      name="description"
      content="A frequência da cannabis legal no Brasil."
    />

    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Grupos | Rádio Hemp" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" href="./icons/radio-icon-192.png" />
    <link rel="icon" type="image/png" href="./favicon.ico" />
    <link rel="manifest" href="./manifest.json" />

    <title>Grupos | Rádio Hemp</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="./splash/style.css" />
    <script src="./flutter.js" defer></script>
    <script src="https://player.live-video.net/1.30.0/amazon-ivs-player.min.js"></script>
  </head>

  <body>
    <script>
      window.addEventListener('load', function () {
        {{flutter_js}}
        {{flutter_build_config}}

        _flutter.loader.load({
          serviceWorker: { serviceWorkerVersion: {{flutter_service_worker_version}} },
          onEntrypointLoaded: function (engineInitializer) {
            engineInitializer.initializeEngine({ useColorEmoji: true }).then(function (appRunner) {
              appRunner.runApp();

              const checkInterval = setInterval(() => {
                const flutterRoot = document.querySelector('flt-glass-pane, canvas');
                if (flutterRoot && flutterRoot.offsetHeight > 0) {
                  clearInterval(checkInterval);

                  const splash = document.getElementById("splash");
                  if (splash) {
                    splash.classList.add('fade-out');
                    splash.addEventListener('transitionend', () => splash.remove());
                  }
                }
              }, 100);
            });
          }
        });

        const messages = [
          "Sintonizando na frequência... 📻",
          "Está preparado? 👀",
          "Conectando com a galera... 🌿",
          "Ajustando o volume... 🔊",
          "Aquecendo para a live... 🔥",
          "Carregando o conteúdo... ⏳",
          "Entrando no ritmo... 🎙️",
          "Preparando a próxima batida... 🎼",
          "Deixando tudo no ponto... 🎚️",
          "Aquecendo o estúdio... 🎛️",
        ];

        const container = document.getElementById("messages");
        let index = 0;

        function showNextMessage() {
          const el = document.createElement("div");
          el.classList.add("message-slide");
          el.textContent = messages[index];

          while (container.firstChild) container.removeChild(container.firstChild);
          container.appendChild(el);

          index = (index + 1) % messages.length;
        }

        showNextMessage();
        setInterval(showNextMessage, 1500);
      });
    </script>

    <div id="splash">
      <img
        class="logo"
        src="./splash/img/light-1x.svg"
        alt="Logo Radio Hemp"
        width="250"
        height="250"
      />
      <div id="messages">
        <div id="messageText" class="message-slide"></div>
      </div>
    </div>
  </body>
</html>
